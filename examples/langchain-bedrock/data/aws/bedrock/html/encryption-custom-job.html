<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Encryption of model customization jobs - Amazon Bedrock</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="encryption-custom-job" /><meta name="default_state" content="encryption-custom-job" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/encryption-custom-job.html" /><meta name="description" content="Amazon Bedrock encrypts the model artifacts from your model customization jobs. By default, Amazon Bedrock encrypts this data using an AWS managed key. Optionally, you can encrypt the model artifacts using a customer managed key." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Bedrock" /><meta name="guide" content="User Guide" /><meta name="abstract" content="User Guide for the Amazon Bedrock service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/encryption-custom-job.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/encryption-custom-job.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/encryption-custom-job.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/encryption-custom-job.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/encryption-custom-job.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/encryption-custom-job.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/encryption-custom-job.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/encryption-custom-job.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/encryption-custom-job.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/encryption-custom-job.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/encryption-custom-job.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/encryption-custom-job.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/encryption-custom-job.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/encryption-custom-job.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/encryption-custom-job.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/encryption-custom-job.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/encryption-custom-job.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/encryption-custom-job.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/encryption-custom-job.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/bedrock/latest/userguide/encryption-custom-job.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/bedrock/latest/userguide/encryption-custom-job.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/encryption-custom-job.html" hreflang="x-default" /><meta name="feedback-folder" content="2d8c2a09-1dac-41bf-9893-c0333d272b2c" /><meta name="feedback-item" content="Bedrock" /><meta name="this_doc_product" content="Amazon Bedrock" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'bedrock'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Encryption of model customization jobs" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Encryption of model customization jobs - Amazon Bedrock</title><meta name="pdf" content="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#encryption-custom-job" /><meta name="rss" content="bedrock-ug.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/encryption-custom-job.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/encryption-custom-job.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/encryption-custom-job.html" /><meta name="keywords" content="Amazon Bedrock,bedrock" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Data protection in Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/data-protection.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Data encryption",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/data-encryption.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Encryption of model customization jobs",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/data-encryption.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#encryption-custom-job" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/bedrock/index.html">Amazon Bedrock</a><a href="what-is-bedrock.html">User Guide</a></div><div id="page-toc-src"><a href="#encryption-custom-job-input">Model customization inputs</a><a href="#encryption-at-rest-output">Model customization outputs</a><a href="#encryption-key-create">Create a customer managed key</a><a href="#encryption-key-run-custom">Use a customer managed key to run customization
                jobs</a><a href="#encryption-key-inference">Use a customer managed key during inference</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="encryption-custom-job">Encryption of model customization jobs</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Bedrock encrypts the model artifacts from your model customization jobs. By default,
        Amazon Bedrock encrypts this data using an AWS managed key. Optionally, you can encrypt the
        model artifacts using a customer managed key.</p><p>For more information about AWS KMS keys, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk">Customer managed keys</a> in the
            <em>AWS Key Management Service Developer Guide</em>.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#encryption-custom-job-input">Model customization inputs</a></li><li><a href="#encryption-at-rest-output">Model customization outputs</a></li><li><a href="#encryption-key-create">Create a customer managed key</a></li><li><a href="#encryption-key-run-custom">Use a customer managed key to run customization
                jobs</a></li><li><a href="#encryption-key-inference">Use a customer managed key during inference</a></li></ul></div>
        <h2 id="encryption-custom-job-input">Model customization inputs</h2>
        <p>When you use Amazon Bedrock to run a model customization job, you store the input documents
            (training/validation data) in your Amazon S3 bucket. To encrypt these documents at rest, you
            can use the Amazon S3 SSE-S3 server-side encryption option. With this option, objects are
            encrypted with service keys managed by the Amazon S3 service. </p>
        <p>For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingServerSideEncryption.html">Protecting data using server-side encryption with Amazon S3-managed encryption keys
            (SSE-S3)</a> in the <em>Amazon Simple Storage Service User Guide</em>.</p>
     
        <h2 id="encryption-at-rest-output">Model customization outputs</h2>
        <p>When Amazon Bedrock completes a model customization job, it stores the job metrics in the
            Amazon S3 location that you specified when you created the job. To encrypt the metrics, you
            can use the Amazon S3 SSE-S3 server-side encryption option described in the previous
            section.</p>
        <p> Amazon Bedrock stores the custom model artifacts in an Amazon S3 bucket controlled by AWS. By
            default, Amazon Bedrock encrypts this data using an <em>AWS managed key</em>.
            This type of KMS key is created by AWS, so you don't manage this KMS key yourself.
            AWS manages the key and uses it on your behalf.</p>
        <p>Optionally, you can choose to encrypt the custom model artifacts with a <em>customer managed key</em>. This is a KMS key that you create, own, and
            manage in your AWS account.</p>       
        <p>Before you can use your own KMS key, configure the policies and permissions as
            described in the following sections.</p>
     
        <h2 id="encryption-key-create">Create a customer managed key</h2>
        <p>Any user with <code class="code">CreateKey</code> permissions can create customer managed keys using either
            the AWS Key Management Service (AWS KMS) console or the <a href="https://docs.aws.amazon.com/kms/latest/APIReference/API_CreateKey.html">CreateKey</a> API operation.
            Make sure to create a symmetric encryption key.</p>
        <p>Create a key policy and add the following policy statements to grant permissions to custom model builders and users.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Id": "KMS Key Policy",
    "Statement": [
        <span>{</span>
            "Sid": "<code class="replaceable">Permissions for custom model users</code>",
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "arn:aws:iam::<code class="replaceable">account-id</code>:user/<code class="replaceable">role</code>"
            },
            "Action": "kms:Decrypt",
            "Resource": "*"
        },
        <span>{</span>
            "Sid": "<code class="replaceable">Permissions for custom model builders</code>",
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "arn:aws:iam::<code class="replaceable">account-id</code>:user/<code class="replaceable">role</code>"
            },
            "Action": [
                "kms:Decrypt",
                "kms:GenerateDataKey",
                "kms:DescribeKey",
                "kms:CreateGrant"
            ],
            "Resource": "*"
        }          
}       </code></pre>           
     
        <h2 id="encryption-key-run-custom">Use a customer managed key to run customization
                jobs</h2>
        <p>For users to create a model customization job, the user or role needs the
            following permissions to use the customer managed key.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "<code class="replaceable">Bedrock custom model builder policy</code>",
      "Effect": "Allow",
      "Action": [
           "kms:Decrypt", 
           "kms:DescribeKey", 
           "kms:GenerateDataKey" 
           "kms:CreateGrant"  
        ],
      "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:key/<code class="replaceable">key id</code>"
    }
  ]
}       </code></pre>
     
        <h2 id="encryption-key-inference">Use a customer managed key during inference</h2>
        <p>For users to run inference on a custom model, the user or role needs the
            following permissions to use the customer managed key.</p>
       
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "<code class="replaceable">Bedrock Customer Invocation Policy</code>",
      "Effect": "Allow",
      "Action": [
           "kms:Decrypt" 
        ],
      "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:key/<code class="replaceable">key id</code>"
    }
  ]
}       </code></pre>
        <p>When you invoke a model to run inference (for a custom model encrypted with a customer managed key), if
            you don't have <code class="code">kms:Decrypt</code> permissions for that key, the request fails with
            the following error message: </p>   
        <p><em> You don't have sufficient access to the model's KMS key.
                Ensure that kms:Decrypt permissions are correctly configured </em></p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./data-encryption.html">Data encryption</div><div id="next" class="next-link" accesskey="n" href="./encryption-agents.html">Encryption of agent resources</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/encryption-custom-job.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/encryption-custom-job.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>