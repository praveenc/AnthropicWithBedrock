<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Prompt template placeholder variables - Amazon Bedrock</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="prompt-placeholders" /><meta name="default_state" content="prompt-placeholders" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-placeholders.html" /><meta name="description" content="You can use the following placeholder variables in the prompt templates. The variables will be populated by pre-existing configurations when the prompt template is called. The chart below defines each variable and which prompt templates it can be used it." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Bedrock" /><meta name="guide" content="User Guide" /><meta name="abstract" content="User Guide for the Amazon Bedrock service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-placeholders.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/prompt-placeholders.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/prompt-placeholders.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/prompt-placeholders.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/prompt-placeholders.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-placeholders.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-placeholders.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/prompt-placeholders.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/prompt-placeholders.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/prompt-placeholders.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/prompt-placeholders.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/prompt-placeholders.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/prompt-placeholders.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/prompt-placeholders.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/prompt-placeholders.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/prompt-placeholders.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/prompt-placeholders.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/prompt-placeholders.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/prompt-placeholders.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/bedrock/latest/userguide/prompt-placeholders.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/bedrock/latest/userguide/prompt-placeholders.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-placeholders.html" hreflang="x-default" /><meta name="feedback-folder" content="2d8c2a09-1dac-41bf-9893-c0333d272b2c" /><meta name="feedback-item" content="Bedrock" /><meta name="this_doc_product" content="Amazon Bedrock" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'bedrock'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Prompt template placeholder variables" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Prompt template placeholder variables - Amazon Bedrock</title><meta name="pdf" content="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#prompt-placeholders" /><meta name="rss" content="bedrock-ug.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/prompt-placeholders.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/prompt-placeholders.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/prompt-placeholders.html" /><meta name="keywords" content="Amazon Bedrock,bedrock,chatbot,action groups,agent" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Agents for Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Advanced prompts",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/advanced-prompts.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Prompt template placeholder variables",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/advanced-prompts.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#prompt-placeholders" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/bedrock/index.html">Amazon Bedrock</a><a href="what-is-bedrock.html">User Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="prompt-placeholders">Prompt template placeholder variables</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use the following placeholder variables in the prompt templates. The variables
            will be populated by pre-existing configurations when the prompt template is called. The
            chart below defines each variable and which prompt templates it can be used it.</p><div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Pre-processing</b></p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>$functions$ â Replaced by the formatted action group APIs and
                            knowledge bases configured for the agent.</p>
                    </li><li class="listitem">
                        <p>$conversation_history$ â  Replaced by the formatted conversation history for the
                            current session.</p>
                    </li><li class="listitem">
                        <p>$question$ â  Replaced by the user input for the
                            current <code class="code">invokeAgent</code> call in the session.</p>
                    </li></ul></div>
                
            </li><li class="listitem">
                <p><b>Orchestration</b></p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                     
                     
                     
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>$instruction$ - Replaced by the model instructions
                            configured for the agent.</p>
                    </li><li class="listitem">
                        <p>You can use the following placeholders if you allow the agent to ask the user for more information. This setting is specified in the <code class="code">parentActionSignature</code> field of the <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_agent_AgentActionGroup.html">AgentActionGroup</a>.</p>
                    </li><li class="listitem">
                        <p>$ask_user_input_examples$ â Conditionally replaced by
                            few-shot examples to tell the model how to predict when it should ask the user a question.</p>
                    </li><li class="listitem">
                        <p>$ask_user_function$ - Conditionally
                            replaced by a function to ask the user a question.</p>
                    </li><li class="listitem">
                        <p>$ask_user_confirm_parameters$ - Conditionally
                            replaced by instructions for the model to ask the user to confirm
                            parameters that the agent has not yet received or is unsure of.</p>
                    </li><li class="listitem">
                        <p>$ask_user_missing_parameters$ - Conditionally
                            replaced by instructions for the model to ask the user to provide
                            required missing parameters.</p>
                    </li><li class="listitem">
                        <p>$ask_user_function_format$ - Conditionally replaced by the
                            format the model should predict ask user function in if user
                            input is enabled for the agent</p>
                    </li><li class="listitem">
                        <p>$functions$ - Replaced by the formatted action group APIs and
                            knowledge bases configured for the agent.</p>
                    </li><li class="listitem">
                        <p>$prompt_session_attributes$ - Replaced by the prompt
                            session attributes provided for the session</p>
                    </li><li class="listitem">
                        <p>$any_function_name$ - Replaced by a configured function
                            name as an example</p>
                    </li><li class="listitem">
                        <p>$conversation_history$ - Replaced by the formatted conversation history for the current
                            session.</p>
                    </li><li class="listitem">
                        <p>$question$ - Replaced by the user input for the current turn in the
                            session</p>
                    </li><li class="listitem">
                        <p>$agent_scratchpad$ - Designates an area for the model to
                            write down its thoughts and actions it has taken. Replaced with the predictions and output of the previous
                            iterations in the current turn in order for model to have
                            context of what has been achieved for the given user input and
                            what should be the next step.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Knowledge base response generation</b></p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>$search_results$ - Replaced by the retrieved results for
                            the user query</p>
                    </li><li class="listitem">
                        <p>$query$ - Replaced by the query generated by the
                            orchestration prompt model response when it predicts a knowledge
                            base to be invoked</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Post-processing</b></p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>$question$ - Replaced by the user input for the current turn in the
                            session</p>
                    </li><li class="listitem">
                        <p>$latest_response$ - Replaced by the last orchestration
                            prompt model response</p>
                    </li><li class="listitem">
                        <p>$responses$ - Replaced by the action group and knowledge
                            base outputs invoked in the current turn.</p>
                    </li></ul></div>
            </li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./advanced-prompts.html">Advanced prompts</div><div id="next" class="next-link" accesskey="n" href="./lambda-parser.html">Parser Lambda function</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/prompt-placeholders.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/prompt-placeholders.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>