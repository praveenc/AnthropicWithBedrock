<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Create an agent - Amazon Bedrock</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="agents-create" /><meta name="default_state" content="agents-create" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents-create.html" /><meta name="description" content="Learn how to create an agent to help your customers carry out actions." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Bedrock" /><meta name="guide" content="User Guide" /><meta name="abstract" content="User Guide for the Amazon Bedrock service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents-create.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/agents-create.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/agents-create.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/agents-create.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/agents-create.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents-create.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents-create.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/agents-create.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/agents-create.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/agents-create.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/agents-create.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/agents-create.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/agents-create.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/agents-create.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/agents-create.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/agents-create.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/agents-create.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/agents-create.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/agents-create.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/bedrock/latest/userguide/agents-create.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/bedrock/latest/userguide/agents-create.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents-create.html" hreflang="x-default" /><meta name="feedback-folder" content="2d8c2a09-1dac-41bf-9893-c0333d272b2c" /><meta name="feedback-item" content="Bedrock" /><meta name="this_doc_product" content="Amazon Bedrock" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'bedrock'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Create an agent" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Create an agent - Amazon Bedrock</title><meta name="pdf" content="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#agents-create" /><meta name="rss" content="bedrock-ug.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/agents-create.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/agents-create.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/agents-create.html" /><meta name="keywords" content="Amazon Bedrock,bedrock,chatbot,action groups,agent" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Agents for Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Create an agent",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#agents-create" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/bedrock/index.html">Amazon Bedrock</a><a href="what-is-bedrock.html">User Guide</a></div><div id="page-toc-src"><a href="#agents-create-prereq">Prerequisites</a><a href="#agents-create-steps">Steps to create an agent</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="agents-create">Create an agent</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To create an agent, you set up the following components:</p><div class="itemizedlist">
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>The configuration of the agent itself, which defines the purpose of the agent and the foundation model that it should use to interpret and generate prompts.</p>
        </li><li class="listitem">
            <p>Action groups that define what actions the agent is designed to carry out.</p>
        </li><li class="listitem">
            <p>(Optional) A knowledge base of data sources to augment the generative capabilities of the agent.</p>
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you plan to attach a knowledge base to your agent, first set up your knowledge base by following the steps at <a href="./knowledge-base.html">Knowledge base for Amazon Bedrock</a>.</p></div></div>
            
        </li></ul></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#agents-create-prereq">Prerequisites</a></li><li><a href="#agents-create-steps">Steps to create an agent</a></li></ul></div>
        <h2 id="agents-create-prereq">Prerequisites</h2>
    
        <p>Before you can create your agent, carry out the following steps.</p>
            
        <div class="procedure"><ol><li>
                <p>(Optional) If you opt out of using a role automatically created by Amazon Bedrock, set up a custom role by following the steps at <a href="./agents-permissions.html">Permissions to create and manage an agent</a>.</p>
            </li><li>
                <p>When you create an agent, you define action groups that your agent will carry out. For each action group, you need to set up the following items.</p>
                
                <ol><li>
                        <p>Set up the Lambda function that defines the business logic for the action that your agent will carry out. For more information, see <a href="./agents-lambda.html">Action group Lambda functions</a>.</p>
                        
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Configure permissions for your agent to be able to access the Lambda function. For more information, see <a href="./agents-permissions.html#agents-permissions-lambda">Permissions to access your action group Lambda functions</a>. You need to attach these permissions even if you use a role that is automatically created by Amazon Bedrock during the agent creation process.</p></div></div>
                            
                    </li><li>
                        <p>Set up the OpenAPI schema with the API description, 
                            structure, and parameters for the action group. Upload a schema you have created to an Amazon S3 bucket or define the schema with the help of the inline OpenAPI schema editor in the console after you have created the agent. For more information, see <a href="./agents-api-schema.html">Action group OpenAPI schemas</a>.</p>
                    </li></ol>
                
            </li><li>
                <p>Set up any knowledge bases that you want your agent to be able to query. For more information, see <a href="./knowledge-base.html">Knowledge base for Amazon Bedrock</a>.</p>
            </li></ol></div>
        
     
        <h2 id="agents-create-steps">Steps to create an agent</h2>
    
        <p>To create an agent, visit <a href="https://console.aws.amazon.com/bedrock/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/bedrock/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> Choose <b>Agents</b> in the left navigation pane. Then select <b>Create</b> at the top right corner of the <b>Agents</b> section.</p>
        
        <div class="procedure"><h6>Provide agent details</h6><ol><li>
                <p>In the <b>Agent name</b> section,
                    give the agent a name and an optional description.</p>
            </li><li>
                <p>In the <b>User input</b> section, select whether you want the agent to request the user for additional information when trying to complete a task. If you select <b>No</b>, the agent doesn't request the user for additional details and informs the user that it doesn't have enough information to complete the task.</p>
            </li><li>
                <p>In the <b>IAM permissions</b> section, 
                    choose an AWS Identity and Access Management (IAM) role that provides Agents for Amazon Bedrock
                    permission to access other AWS services. You can let Agents for Amazon Bedrock create the service role (for more information, see <a href="./security_iam_service-with-iam.html#security_iam_service-with-iam-roles-service">Service roles for
               Amazon Bedrock</a>) or you can choose a custom role that you have created.</p>
                
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The service role that Agents for Amazon Bedrock creates for you doesn't support permissions for features that are in preview. In order to use these features, you must attach the correct permissions to the service role.</p></div></div>
                
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For information about the requirements for a custom role, see <a href="./agents-permissions.html">Permissions to create and manage an agent</a>.</p></div></div>
                
            </li><li>
                <p>By default, AWS encrypts sessions with your agent with a key that Agents for Amazon Bedrock owns. To encrypt your agent with your own key, select <b>Customize encryption settings (advanced)</b> in the <b>KMS key selection</b> section and <b>Choose an AWS KMS key</b>. If you want to create a new key, select <b>Create an AWS KMS key</b> and reload this window.</p>
            </li><li>
                <p>In the <b>Idle session timeout</b> section, choose a duration of time. If the user has not responded in the same session after this amount of time, Amazon Bedrock no longer maintains the conversation history. Conversation history is used to both resume an interaction and to augment responses with context from the conversation.</p>
            </li><li>
                <p>(Optional) In the <b>Tags</b> section, select <b>Add new tag</b> to associate tags with this agent. Fill in a key-value pair for each tag to add.</p>
            </li><li>
                <p>Select <b>Next</b> when you are done setting up the agent configuration.</p>
            </li></ol></div>
        
        <div class="procedure"><h6>Select model</h6><ol><li>
                <p>For the agent to perform orchestration, you need to choose a model. In the <b>Model details</b> selection, choose a model provider and then choose a model in the dropdown menu to train your agent.</p>
            </li><li>
                <p>In <b>Instructions for the Agent</b>, provide details to tell the agent what it should do and how it should interact with users. Refer to the following sample instructions:</p>
                
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="replaceable">You are an office assistant in an insurance agency. You are friendly and polite. You help with managing insurance claims and coordinating pending paperwork.</code></code></pre>
                
            </li></ol></div>
        
        <div class="procedure"><h6>Add Action groups</h6><ol><li>
                <p>Provide a name for your action group and describe what the action does in the <b>Description for action groups</b>.</p>
            </li><li>
                <p>In <b>Select Lambda function</b>, choose a Lambda function that you created in AWS Lambda. The Lambda function provides the business logic that is carried out upon invoking the action. Choose the version of the function to use. For more information, see <a href="./agents-lambda.html">Action group Lambda functions</a></p>
                
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Remember to attach a resource-based policy to the Lambda function to allow the Amazon Bedrock service principal to access the Lambda function. For more information, see <a href="./agents-permissions.html#agents-permissions-lambda">Permissions to access your action group Lambda functions</a>.</p></div></div>
                
            </li><li>
                <p>In <b>Select API schema</b>, provide a link to the Amazon S3 URI of the schema with the API description, 
                    structure, and parameters for the action group. For more information, see <a href="./agents-api-schema.html">Action group OpenAPI schemas</a>.</p>
                
                
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can use the text editor to edit the schema after you have created the agent.</p></div></div>

                
            </li><li>
                <p>Select <b>Add another Action group</b> to set up another action group for your agent. When you are done adding action groups, select <b>Next</b>.</p>
            </li></ol></div>
        
        <div class="procedure"><h6>Add knowledge bases</h6><ol><li>
                <p>If you have not yet created any knowledge bases, select <b>Knowledge base</b> in the left navigation pane and follow the instructions at <a href="./knowledge-base-create.html">Create a knowledge base</a> to create one. Otherwise, select a knowledge base from the dropdown menu.</p>
            </li><li>
                <p>Write a prompt in <b>Knowledge base instructions for the agent</b> to describe how the agent should use the knowledge base. For example, you can use the following text for a knowledge base called <code class="replaceable">Domain name system details</code>:</p>
                
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="replaceable">Use this knowledge base whenever you are creating a DNS record</code></code></pre>
            </li><li>
                <p>Select <b>Add another knowledge base</b> to set up another knowledge base for your agent. When you are done adding knowledge bases, select <b>Next</b>.</p>
            </li></ol></div>
        
        <p>Review the configuration of your agent and choose <b>Edit</b> for any sections you want to change. 
            Select <b>Create</b> when you are ready to create the agent. When the process finishes, a green banner appears at the top to inform you that the agent was successfully created.</p> 
        
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./agents-lambda.html">Action group Lambda functions</div><div id="next" class="next-link" accesskey="n" href="./agents-test.html">Test your agent</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/agents-create.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/agents-create.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>