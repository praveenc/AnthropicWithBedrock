<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Guidelines for model customization - Amazon Bedrock</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="model-customization-guidelines" /><meta name="default_state" content="model-customization-guidelines" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-customization-guidelines.html" /><meta name="description" content="The ideal parameters for customizing a model depend on the dataset and the task for which the model is intended. You should experiment with values to determine which parameters work best for your specific case. To help, evaluate your model by running a model evaluation job. For more information, see" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Bedrock" /><meta name="guide" content="User Guide" /><meta name="abstract" content="User Guide for the Amazon Bedrock service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-customization-guidelines.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/bedrock/latest/userguide/model-customization-guidelines.html" hreflang="x-default" /><meta name="feedback-folder" content="2d8c2a09-1dac-41bf-9893-c0333d272b2c" /><meta name="feedback-item" content="Bedrock" /><meta name="this_doc_product" content="Amazon Bedrock" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'bedrock'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Guidelines for model customization" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Guidelines for model customization - Amazon Bedrock</title><meta name="pdf" content="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#model-customization-guidelines" /><meta name="rss" content="bedrock-ug.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/model-customization-guidelines.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/model-customization-guidelines.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/bedrock/latest/userguide/model-customization-guidelines.html" /><meta name="keywords" content="Amazon Bedrock,bedrock,improve performance,continual pre-training,fine-tuning,model improvement,task learning,domain" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Bedrock",
        "item" : "https://docs.aws.amazon.com/bedrock/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Custom models",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/custom-models.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Guidelines for model customization",
        "item" : "https://docs.aws.amazon.com/bedrock/latest/userguide/custom-models.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/bedrock/latest/userguide/bedrock-ug.pdf#model-customization-guidelines" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/bedrock/index.html">Amazon Bedrock</a><a href="what-is-bedrock.html">User Guide</a></div><div id="page-toc-src"><a href="#model-customization-guidelines-titan-text-express">Titan Text Express </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="model-customization-guidelines">Guidelines for model customization</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> The ideal parameters for customizing a model depend on the dataset and the task for
            which the model is intended. You should experiment with values to determine which
            parameters work best for your specific case. To help, evaluate your model by running a
            model evaluation job. For more information, see <a href="./model-evaluation.html">Model evaluation</a>.</p><p>This topic provides guidelines and recommended values as a baseline for customization
            of the Titan Text Express model. For other models, check the provider's documentation. </p><p>Use the training and validation metrics from the <a href="./model-customization-analyze.html">output files</a> generated when you <a href="./model-customization-submit.html">submit</a> a fine-tuning job to help you
            adjust your parameters. Find these files in the Amazon S3 bucket to which you wrote the
            output, or use the <a href="https://docs.aws.amazon.com/bedrock/latest/APIReference/API_GetCustomModel.html">GetCustomModel</a>
            operation. </p>
            <h2 id="model-customization-guidelines-titan-text-express">Titan Text Express </h2>
            
            <p>The following guidelines are for the <a href="./titan-text-models.html">Titan Text
                    Express</a> text-to-text model model. For information about the
                hyperparameters that you can set, see <a href="./fine-tuning-models-titan.html">Amazon Titan</a>.</p>
          
          
             
                <h3 id="w110aac47c31b9b5">Impact on other tasks types</h3>
                <p>In general, the larger the training dataset, the better the performance for a
                    specific task. However, training for a specific task might make the model
                    perform worse on different tasks, especially if you use a lot of examples. For
                    example, if the training dataset for a summarization task contains 100,000
                    samples, the model might perform worse on a classification task).</p>
                
             
          
     
       
         
            <h3 id="w110aac47c31b9c11">Model size</h3>
            <p>In general, the larger the model, the better the task performs given limited
                training data.</p>
            <p>If you are using the model for a <em>classification</em>
                task, you might see relatively small gains for few-shot fine-tuning (less than 100
                samples), especially if the number of classes is relatively small (less than
                100).</p>
         
         
            <h3 id="w110aac47c31b9c13">Epochs</h3>
            <p>We recommend using the following metrics to determine the number of epochs to
                set:</p>
            <div class="orderedlist">
                 
                 
            <ol><li>
                    <p><b>Validation output accuracy</b> â Set
                        the number of epochs to one that yields a high accuracy.</p>
                </li><li>
                    <p><b>Training and validation loss</b> â
                        Determine the number of epochs after which the training and validation loss
                        becomes stable. This corresponds to when the model converges. Find the
                        training loss values in the
                        <code>step_wise_training_metrics.csv</code> and
                        <code>validation_metrics.csv</code> files.</p>
                </li></ol></div>
         
         
            <h3 id="w110aac47c31b9c15">Batch size</h3>
            <p>When you change the batch size, we recommend that you change the learning rate
                using the following formula:</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">newLearningRate = oldLearningRate x newBatchSize / oldBatchSize</code></pre>
         
         
            <h3 id="w110aac47c31b9c17">Learning rate</h3>
            <p>In general, use smaller learning rates for larger models. We recommend using a
                learning rate in the range of 1.00E-06 to 1.00E-05. </p>
            <p>The following table shows recommended learning rate values for few-shot
                fine-tuning:</p>
            <div class="table-container"><div class="table-contents"><table id="w230aac47c31b9c17b7"><thead>
                        <tr>
                            <th>Task</th>
                            <th>Minimum learning rate</th>
                            <th>Default learning rate</th>
                            <th>Max learning rate</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">Summarization</td>
                            <td tabindex="-1">1.00E-06</td>
                            <td tabindex="-1">3.00E-06</td>
                            <td tabindex="-1">5.00E-05</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">Classification</td>
                            <td tabindex="-1">5.00E-06</td>
                            <td tabindex="-1">5.00E-05</td>
                            <td tabindex="-1">5.00E-05</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">Question-answer</td>
                            <td tabindex="-1">5.00E-06</td>
                            <td tabindex="-1">5.00E-06</td>
                            <td tabindex="-1">5.00E-05</td>
                        </tr>
                    </table></div></div>
         
         
            <h3 id="w110aac47c31b9c19">Learning warmup steps</h3>
            <p>We recommend the default value of 0.</p>
         
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./model-customization-retrieve-api.html">Retrieve information about your customized models</div><div id="next" class="next-link" accesskey="n" href="./fine-tuning-troubleshooting.html">Troubleshooting</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/model-customization-guidelines.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=2d8c2a09-1dac-41bf-9893-c0333d272b2c&amp;topic_url=https://docs.aws.amazon.com/en_us/bedrock/latest/userguide/model-customization-guidelines.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>